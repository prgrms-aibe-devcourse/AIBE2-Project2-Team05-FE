Table user {
  id int [pk, increment]
  email varchar [unique, not null]
  password varchar [not null]
  nickname varchar [not null]
  role varchar [not null] // USER or GUIDE
  created_at timestamp
}

Table admin {
  id int [pk, increment]
  email varchar [unique, not null]
  password varchar [not null]
  name varchar [not null]
  created_at timestamp
}

Table profile {
  id int [pk, increment]
  user_id int [ref: > user.id]
  bio text
  interests varchar
  travel_style varchar
  profile_image varchar
  created_at timestamp
}

Table travel_plan {
  id int [pk, increment]
  user_id int [ref: > user.id]
  location varchar [not null]
  start_date date [not null]
  end_date date [not null]
  description text
  interests varchar
  created_at timestamp
}

Table matching_request {
  id int [pk, increment]
  sender_id int [ref: > user.id]
  receiver_id int [ref: > user.id]
  plan_id int [ref: > travel_plan.id]
  status varchar [default: 'PENDING']
  created_at timestamp
}

Table chat_room {
  id int [pk, increment]
  matching_id int [ref: > matching_request.id]
  created_at timestamp
}

Table chat_message {
  id int [pk, increment]
  chat_room_id int [ref: > chat_room.id]
  sender_id int [ref: > user.id]
  message text
  sent_at timestamp
}

Table review {
  id int [pk, increment]
  reviewer_id int [ref: > user.id]
  reviewee_id int [ref: > user.id]
  matching_id int [ref: > matching_request.id]
  rating int
  tags varchar
  comment text
  created_at timestamp
}

Table travel_feed {
  id int [pk, increment]
  user_id int [ref: > user.id]
  travel_plan_id int [ref: > travel_plan.id, unique]
  image_url varchar
  caption text
  status varchar [default: 'VISIBLE'] // VISIBLE, HIDDEN, DELETED_BY_ADMIN
  like_count int [default: 0]
  created_at timestamp
}

Table follow {
  id int [pk, increment]
  follower_id int [ref: > user.id]
  following_id int [ref: > user.id]
  created_at timestamp
  indexes {
    (follower_id, following_id) [unique]
  }
}

Table admin_action_log {
  id int [pk, increment]
  admin_id int [ref: > admin.id]
  action_type varchar [not null]
  target_entity_type varchar
  target_entity_id int
  action_details text
  created_at timestamp
}

Table managed_user {
  id int [pk, increment]
  user_id int [ref: > user.id, unique]
  admin_id int [ref: > admin.id]
  status varchar [not null]
  reason text
  updated_at timestamp
}

Table managed_matching_request {
  id int [pk, increment]
  matching_id int [ref: > matching_request.id, unique]
  admin_id int [ref: > admin.id]
  status varchar [not null]
  notes text
  updated_at timestamp
}

Table managed_travel_feed {
  id int [pk, increment]
  travel_feed_id int [ref: > travel_feed.id, unique]
  admin_id int [ref: > admin.id]
  status varchar [not null]
  reason text
  updated_at timestamp
}

Table report {
  id int [pk, increment]
  reporter_id int [ref: > user.id]
  reported_user_id int [ref: > user.id]
  report_type varchar [not null]
  description text
  status varchar [default: 'PENDING']
  created_at timestamp
  reviewed_by_admin_id int [ref: > admin.id]
  reviewed_at timestamp
  action_taken text
}
